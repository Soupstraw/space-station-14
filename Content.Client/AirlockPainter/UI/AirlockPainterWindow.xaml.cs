using System.Linq;

using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.CustomControls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.AirlockPainter.UI
{
    [GenerateTypedNameReferences]
    public sealed partial class AirlockPainterWindow : DefaultWindow
    {
      public event Action<int>? OnSpritePicked;

      public AirlockPainterWindow(List<string> spriteList)
      {
        RobustXamlLoader.Load(this);

        foreach(var sprite in spriteList)
        {
          var item = new ItemList.Item(SpriteList);
          item.Text = sprite.Split("/").Last();
          SpriteList.Add(item);
        }
        SpriteList.OnItemSelected += e => OnSpritePicked?.Invoke(e.ItemIndex);
      }
    }
}
